!function(e,r){var n="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e;if("function"==typeof define&&define.amd)define(["ppIs","exports"],(function(e,t){n.ppValidate=r(n,t,e)}));else if("undefined"!=typeof exports){var t={};try{t=require("pp-is")}catch(e){}module.exports=r(n,exports,t)}else n.ppValidate=r(n,{},n.ppIs)}(this,(function(e,r,n){var t=function(e){return e.length},i=function(e){for(var r,n=[],t=/^\/([\^]{0,}[\W\S]{0,})\/([g]{0,1}[m]{0,1}[i]{0,1}[y]{0,1}[u]{0,1}[s]{0,1})/gm;null!==(r=t.exec(e));)r.index===t.lastIndex&&t.lastIndex++,r.forEach(((e,r)=>{1!==r&&2!==r||n.push(e)}));return n},s=n.isString,a=n.isUndefined,l=n.isNumber,u=n.isEmail,o=(n.isRegExp,n.isUrl),f=function(e,r){for(var n={},a=Object.keys(e),f=0;f<t(a);f++){var c=a[f];if(["range","regex","no_regex","url","string","mail","number","required","maxlength","minlength","max","min","equalTo","presence"].includes(c)){if("range"==c&&(2==t(e[c])&&e[c][0]<e[c][1]?n[c]=parseInt(r)>=e[c][0]&&parseInt(r)<=e[c][1]:n[c]=!1),"regex"==c||"no_regex"==c){var p=i(e[c]),g=s(p[0])?p[0]:"",d=s(p[1])?p[1]:"";try{"regex"==c&&(n[c]=new RegExp(g,d).test(r)),"no_regex"==c&&(n[c]=!0!==new RegExp(g,d).test(r))}catch(e){n[c]=!1}}if("equalTo"==c&&(n[c]=e[c].toString()===r.toString()),"url"==c&&(n[c]=o(r)),"string"==c&&(n[c]=s(r)),"mail"==c&&(n[c]=u(r)),"number"===c&&(n[c]=l(r)),"required"==c&&(n[c]=""!==r),"maxlength"==c&&(n[c]=t(r.toString())<=e[c]),"minlength"==c&&(n[c]=t(r.toString())>=e[c]),"min"==c&&(n[c]=parseInt(r)>=e[c]),"max"==c&&(n[c]=parseInt(r)<=e[c]),!1===n[c])break}}var x=!Object.values(n).includes(!1);if(!1===x)throw function(e){for(var r={},n=Object.keys(e),i=0;i<t(n);i++)!1===e[n[i]]&&(r[n[i]]=e[n[i]]);return r}(n);return x},c=function(e,r){return e.hasOwnProperty(r)};return function(e,r){r=function(e,r){for(var n,i,l,u=["min","max","maxlength","minlength"],o={},f=Object.keys(e),p=0;p<t(f);p++){var g=f[p];if(s(e[g])){rulesArray=e[g].split("|"),o[g]={};for(var d=0;d<t(rulesArray);d++){var x=rulesArray[d].split(":"),m=x[0];a(x[1])&&1==t(x)&&(u.includes(m)?x[1]=0:x[1]=!0);var v=u.includes(m)?parseInt(x[1]):["range"].includes(m)?(l=void 0,l=x[1].split(","),[parseInt(l[0]),parseInt(l[1])]):["equalTo"].includes(m)?(n=x[1],c(i=r,n)?i[n]:null):["presence"].includes(m)?"true"===String(x[1]).toLowerCase():x[1];o[g][m]=!!a(v)||v}}}return o}(r,e);for(var n=Object.keys(r),i={},l={},u=0;u<t(n);u++){var o=n[u];try{if(c(e,o))l[o]=f(r[o],e[o]);else if(c(r,o)&&c(r[o],"presence")&&!0===r[o].presence)throw{presence:!1}}catch(e){l[o]=!1,i[o]=e}}return{valid:!Object.values(l).includes(!1),error:i}}}));